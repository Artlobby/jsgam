{"version":3,"file":"jsgam.js","sources":["../src/loader.js","../src/class/scene.js","../src/class/text.js","../src/class/menu.js","../src/class/mainmenu.js","../src/class/options.js","../src/class/credits.js","../src/class/title.js","../src/class/gamescene.js","../src/class/cutscene.js","../src/collisions.js","../src/class/gameobject.js","../src/class/inventory.js","../src/class/puzzle.js","../src/class/character.js","../src/class/player.js","../src/class/npc.js","../src/game.js","../src/index.js"],"sourcesContent":["\n\nclass Loader extends PIXI.loaders.Loader{\n  constructor(){\n    super();\n    this.game=null;\n    this.onLoad.add(this.update.bind(this));\n    this.onError.add(this.error.bind(this));\n  }\n\n  //Add config files to loader\n  addJSON(files){\n    let i;\n    let arrayLength=files.length;\n\n    for(i=0;i<arrayLength;i++){\n      let name=files[i].slice(files[i].lastIndexOf(\"/\")+1,files[i].lastIndexOf(\".\"));\n      this.add(name,files[i]);\n    }\n  }\n\n  //Add resource files to loader and settings to game\n  addFiles(files){\n    let i;\n    let length=files.length\n    for(i=0;i<length;i++){\n      //Add config files to setup the game\n      if(files[i].data.Settings) this.game.settings=files[i].data.Settings;\n      if(files[i].data.Scenes) this.game.data.scenes=files[i].data.Scenes;\n      if(files[i].data.Cutscenes) this.game.data.cutscenes=files[i].data.Cutscenes;\n      if(files[i].data.Objects) this.game.data.objects=files[i].data.Objects;\n      if(files[i].data.Dialogues) this.game.data.dialogues=files[i].data.Dialogues;\n      if(files[i].data.Puzzles) this.game.data.puzzles=files[i].data.Puzzles;\n      if(files[i].data.Credits) this.game.data.credits=files[i].data.Credits;\n      if(files[i].data.Texts) this.game.data.texts=files[i].data.Texts;\n\n      //Look for sound files\n      if(files[i].data.Sounds){\n        let soundSrc=files[i].data.Sounds;\n        for(let j=0;j<soundSrc.length;j++){\n           let tmpSound=soundSrc[j].Src;\n           if(tmpSound!==null) this.add(soundSrc[j].Name,tmpSound);\n        }\n       }\n\n       //Look for video files\n       if(files[i].data.Vids)\n       {\n         //Fix for load correctly vids with pixi-sound\n         this.fixVidLoad();\n         let vidSrc=files[i].data.Vids;\n         for(let i=0;i<vidSrc.length;i++){\n           let tmpVid=vidSrc[i].Src;\n           if(tmpVid!==null) this.add(vidSrc[i].Name,tmpVid);\n         }\n       }\n\n       //Load Animations\n       if(files[i].data.Animations)\n       {\n         let animSrc=files[i].data.Animations;\n         for(let i=0;i<animSrc.length;i++){\n           let tmpAnim=animSrc[i].Src;\n           if(tmpAnim!==null) this.add(animSrc[i].Name,tmpAnim);\n         }\n       }\n\n       //Load Backgrounds if don't use texture atlas for backgrounds\n       if(files[i].data.Backgrounds){\n         let bgSrc=files[i].data.Animations;\n         for(let i=0;i<bgSrc.length;i++){\n           let tmpBg=bgSrc[i].Src;\n           if(tmpBg!==null) this.add(bgSrc[i].Name,tmpBg);\n         }\n       }\n\n       //Look for player files\n       if(files[i].data.Player){\n         this.add('playerTex', files[i].data.Player.Texture)\n             .add('playerJson', files[i].data.Player.Json)\n             .add('playerSkeleton', files[i].data.Player.Skeleton);\n         this.game.data.player=files[i].data.Player;\n       }\n\n       //Look for NPC files\n       if(files[i].data.Characters){\n         let npcSrc=files[i].data.Characters;\n         for(let i=0;i<npcSrc.length;i++){\n            this.add(npcSrc[i].Name+\"Tex\", npcSrc[i].Texture)\n            .add(npcSrc[i].Name+'Json', npcSrc[i].Json)\n            .add(npcSrc[i].Name+'Skeleton', npcSrc[i].Skeleton);\n          }\n          this.game.data.npc=files[i].data.Characters;\n        }\n    }\n  }\n\n  //Fix for load mp4 as videos instead as audio because of pixi-sound\n  fixVidLoad(){\n    PIXI.sound.utils.extensions.splice(PIXI.sound.utils.extensions.indexOf('mp4'), 1);\n    PIXI.loaders.Resource.setExtensionXhrType('mp4', undefined);\n    PIXI.loaders.Resource.setExtensionLoadType('mp4', PIXI.loaders.Resource.LOAD_TYPE.VIDEO);\n  }\n\n  //Loading progress\n  update(){\n    let percent=Math.floor(this.progress);\n    //console.log(percent);\n    this.game.loadinProgress.text=percent+ \"%\";\n  }\n\n  //File failed to load\n  error(resource){\n    console.log(resource);\n  }\n\n}\n\nexport default Loader;\n","class Scene{\n  constructor(){\n    this.container = new PIXI.Container();\n    this.game=null;\n  }\n\n  setup(config){\n    this.background=new PIXI.Sprite(PIXI.Texture.from(config.Background));\n    this.background.anchor.set(0);\n    this.container.addChild(this.background);\n    this.music=config.Music;\n    this.config=config;\n  }\n\n  update(dt) {\n\n  }\n  hide(){\n    this.container.visible=false;\n  }\n  \n  show(){\n    this.container.visible=true;\n  }\n}\n\nexport default Scene;\n","class Button extends PIXI.Text{\n    constructor(text,style){\n      super(text,style);\n      this.interactive=true;\n      this.buttonMode=true;\n    }\n}\n\nclass TextField{\n  constructor(){\n    this.container=new PIXI.Container();\n    this.Background=null;\n    this.Text=null;\n    this.container.visible=false;\n  }\n\n  build(){\n    this.container.parentLayer = this.game.layerUI;\n    this.Background=new PIXI.Sprite(PIXI.Texture.WHITE);\n\n    let size=4;\n    if(this.game.settings.Text.Size!==undefined){\n      if(this.game.settings.Text.Size===\"fourth\") size=4;\n      else if(this.game.settings.Text.Size===\"half\") size=2;\n    }\n    this.Background.width=this.game.width;\n    this.Background.height=this.game.height/size;\n\n    this.Background.tint='black';\n    this.Background.alpha=0.5;\n\n    this.Text=new Button(\"\", this.game.settings.Text.Style);\n    this.Text.anchor.set(0.5,0);\n    this.Text.x=this.game.width/2;\n    this.Text.y=0;\n    this.Text.on('pointertap',this.skip.bind(this));\n\n    this.container.addChild(this.Background);\n    this.container.addChild(this.Text);\n    if(this.game.settings.Text.Position!==undefined) this.setPosition(this.game.settings.Text.Position);\n  }\n\n  show(){\n    this.container.visible=true;\n  }\n\n  hide(){\n    this.container.visible=false;\n  }\n\n  end(){\n    this.setText(\"\");\n    this.hide();\n    this.game.player.stop();\n  }\n\n  skip(){\n    this.end();\n    if(this.talker) clearTimeout(this.talker.timeoutID);\n  }\n\n  setPosition(position){\n    if(position===\"top\"){\n      this.container.x=0;\n      this.container.y=0;\n    }else if(position===\"bottom\"){\n      this.container.x=0;\n      this.container.y=this.game.height-this.container.height;\n    }\n  }\n\n  setText(newText){\n    this.Text.text=newText;\n    if(this.Text.width>this.container.width || this.Text.height>this.container.height){\n      this.adjustText();\n    }\n  }\n\n  adjustText(){\n    let ratio = Math.min( this.container.width/this.Text.width,  this.container.height/this.Text.height);\n    this.container.scale.set(ratio*0.95);\n  }\n\n  //Get words number of the text\n  countWords(str) {\n   return str.split(\" \").length;\n  }\n\n  //Calculate how many seconds we show the text\n  timeOut(){\n    let time;\n    if(this.game.settings.Text.Speed!==undefined) time=this.game.settings.Text.Speed;\n    else time=this.countWords(this.Text.text)/3;\n\n    //Time must be at least 1 second\n    if(time<1) time=1;\n\n    return time*1000;\n  }\n\n  setColor(colour){\n    this.Text.tint=colour;\n  }\n}\n\nexport {Button,TextField};\n","import {Button} from './text.js'\n\nclass Menu{\n  constructor(){\n    this.container=new PIXI.Container();\n    this.game=null;\n    this.buttons={};\n    }\n\n  addButton(name,text){\n    this.buttons[name]=new Button(text[this.game.activeLanguage],this.game.settings.Text.ButtonStyle);\n    this.container.addChild(this.buttons[name]);\n  }\n\n  modify(name,text){\n    this.buttons[name].text=text[this.game.activeLanguage];\n  }\n\n  disable(name){\n    this.buttons[name].alpha=0.5;\n    this.buttons[name].interactive=false;\n  }\n\n  enable(name){\n    this.buttons[name].alpha=1.0;\n    this.buttons[name].interactive=true;\n  }\n\n  sortMenu(){\n    let i;\n    let arrayButtons=Object.values(this.buttons);\n    let length=arrayButtons.length;\n    arrayButtons[0].y=0;\n    for(i=1;i<length;i++)\n    {\n      arrayButtons[i].y=arrayButtons[i-1].y+arrayButtons[i-1].height*1.5;\n      arrayButtons[i].x=this.container.width/2-arrayButtons[i].width/2;\n    }\n\n    this.center();\n  //  this.resize();\n  }\n\n  resize(){\n    let ratio = Math.min( this.game.width/this.container.width,  this.game.height/this.container.height);\n    console.log(ratio)\n    this.container.scale.set(ratio*0.95);\n  }\n\n  hide(){\n    this.container.visible=false;\n  }\n\n  show(){\n    this.container.visible=true;\n  }\n\n  center(){\n    this.container.x = this.game.width / 2;\n    this.container.y = this.game.height / 2;\n    this.container.pivot.x = this.container.width / 2;\n    this.container.pivot.y = this.container.height / 2;\n  }\n\n}\nexport default Menu;\n","import Menu from './menu.js';\n\nclass MainMenu extends Menu{\n  create(){\n      let gameTexts=this.game.data.texts;\n      this.addButton(\"New\",gameTexts.NewGame);\n      this.addButton(\"Continue\",gameTexts.Continue);\n      this.addButton(\"Options\",gameTexts.Options);\n      this.addButton(\"Help\",gameTexts.Help);\n      this.addButton(\"Credits\",gameTexts.Credits);\n\n      this.disable(\"Continue\");\n\n      this.sortMenu();\n    }\n\n  changeLanguage(){\n    this.modify(\"New\",this.game.data.texts.NewGame);\n    this.modify(\"Continue\",this.game.data.texts.Continue);\n    this.modify(\"Options\",this.game.data.texts.Options);\n    this.modify(\"Credits\",this.game.data.texts.Credits);\n\n    this.sortMenu();\n  }\n\n}\nexport default MainMenu;\n","import Menu from './menu.js';\nimport {Button} from './text.js';\n\nclass Options extends Menu{\n  create(){\n    this.container.visible=false;\n    let languages=this.game.settings.Languages\n    for(let i=0;i<languages.length;i++){\n      this.addLanguage(languages[i],);\n      this.buttons[languages[i]].on('pointerup', this.setLanguage);\n    }\n\n    let langArray=Object.values(this.buttons);\n    langArray[this.game.activeLanguage].tint=\"0xFF0000\";\n\n    this.addButton(\"Back\",this.game.data.texts.Back);\n    this.sortMenu();\n  }\n\n  addLanguage(name){\n    this.buttons[name]=new Button(name,this.game.settings.Text.ButtonStyle);\n    this.buttons[name].father=this;\n    this.container.addChild(this.buttons[name]);\n  }\n\n  setLanguage(){\n    this.father.change(this.text);\n  }\n\n  change(text){\n    let languages=this.game.settings.Languages\n    this.buttons[languages[this.game.activeLanguage]].tint=\"0xFFFFFF\";\n    this.game.activeLanguage=this.game.settings.Languages.indexOf(text);\n    this.buttons[languages[this.game.activeLanguage]].tint=\"0xFF0000\";\n    this.modify(\"Back\",this.game.data.texts.Back);\n    this.sortMenu();\n  }\n\n}\nexport default Options;\n","\nimport tweenManager from 'k8w-pixi-tween';\nimport MultiStyleText from \"pixi-multistyle-text\";\n\nclass Credits{\n  constructor(){\n    this.container=new PIXI.Container();\n    this.container.visible=false;\n    this.container.interactive=true;\n    this.container.buttonMode=true;\n    }\n\n  create(){\n    let config=this.game.data.credits;\n\n    if(config.Background!==undefined) this.background=new PIXI.Sprite(PIXI.Texture.from(config.Background));\n\n    this.buildText();\n    this.structuredText = new MultiStyleText(this.text,config.Style);\n\n    this.container.addChild(this.structuredText);\n\n    this.container.x = this.game.width / 2;\n    this.container.pivot.x = this.container.width / 2;\n    this.container.y=this.game.height;\n    this.tween = PIXI.tweenManager.createTween(this.container);\n    this.tween\n      .from({ y: this.game.height})\n      .to({ y: 0 - this.container.height});\n    this.tween.time = 20000;\n    this.tween.expire=true;\n    this.tween.delay=500;\n    this.tween.on(\"end\", this.mainMenu.bind(this));\n\n    this.container.on('pointerup', this.mainMenu.bind(this));\n  }\n\n  show(){\n    this.container.visible=true;\n    this.tween.start();\n  }\n\n  hide(){\n    this.tween.stop().reset();\n    this.container.visible=false;\n  }\n\n\n  buildText(){\n    let credits=this.game.data.credits;\n\n    this.text=\"\";\n    let i;\n    for (i=0; i < credits.Lines.length; i++) {\n    this.text +=\"<title>\";\n    this.text += credits.Lines[i].Title[this.game.activeLanguage];\n    this.text +=\"</title>\";\n    this.text += \"\\n\";\n    let j;\n\n    for (j = 0; j < credits.Lines[i].Text.length; j++) {\n      this.text += credits.Lines[i].Text[j];\n      this.text += \"\\n\";\n    }\n    this.text += \"\\n\";\n    }\n  }\n\n  update(){\n    PIXI.tweenManager.update();\n  }\n\n  changeLanguage(){\n    this.buildText();\n    this.structuredText.text=this.text;\n  }\n\n  mainMenu(){\n    this.game.scenes[\"Title\"].mainMenu();\n  }\n}\n\nexport default Credits;\n","import Scene from './scene.js';\nimport MainMenu from './mainmenu.js'\nimport Options from './options.js'\nimport Credits from './credits.js'\n\nimport 'pixi-sound';\n\nclass Title extends Scene{\n  build(){\n    this.states={};\n\n    //Add Menus\n    this.addState(\"MainMenu\", new MainMenu());\n    this.addState(\"Options\", new Options());\n    this.addState(\"Credits\", new Credits());\n\n    //Add actions to the menu buttons\n    this.addAction(\"MainMenu\",\"Options\",this.showOptions.bind(this));\n    this.addAction(\"MainMenu\",\"Credits\",this.showCredits.bind(this));\n    this.addAction(\"MainMenu\",\"New\",this.newAdventure.bind(this));\n\n    this.addAction(\"Options\", \"Back\",this.mainMenu.bind(this));\n\n  }\n\n  addAction(name,button,action){\n    this.states[name].buttons[button].on('pointerup',action)\n  }\n\n  addState(name, state, config) {\n      this.states[name] = state;\n\n      //Set game so state can access it\n      state.game = this.game;\n\n      //Create state\n      state.create();\n\n      this.container.addChild(this.states[name].container);\n  }\n\n  showOptions(){\n    this.states[\"MainMenu\"].hide();\n    this.states[\"Options\"].show();\n  }\n\n  showCredits(){\n    this.states[\"MainMenu\"].hide();\n    this.states[\"Credits\"].show();\n    this.game.activeState=this.states[\"Credits\"];\n  }\n\n  mainMenu(){\n    this.game.activeState=null;\n    this.states[\"Credits\"].hide();\n    this.states[\"Options\"].hide();\n\n    this.changeLanguage();\n    this.states[\"MainMenu\"].show();\n\n  }\n\n  changeLanguage(){\n    this.states[\"MainMenu\"].changeLanguage();\n    this.states[\"Credits\"].changeLanguage();\n    //game.titleScreen.warning.update();\n  }\n\n  newAdventure(){\n    this.game.start();\n  }\n\n}\n\nexport default Title;\n","//import * as PIXI from 'pixi.js';\nimport Scene from './scene.js';\n\nimport Walkable from 'walkable';\n\nclass GameScene extends Scene{\n  build(){\n    this.background.parentLayer = this.game.layer; //Z-order\n    this.background.interactive=true;\n    this.background.buttonMode=true;\n\n    this.background.on('pointertap',this.getPosition.bind(this));\n\n    //Add obstacles to the scene\n    this.walkable=new Walkable(this.game.width,this.game.height);\n      if(this.config.WalkArea!==undefined){\n        this.walkable.addPolygon(this.config.WalkArea);\n      }\n\n      if(this.config.Obstacles!==undefined){\n        let obstacles=Object.values(this.config.Obstacles);\n        this.config.Obstacles=obstacles;\n        for(let i=0;i<this.config.Obstacles.length;i++){\n          this.walkable.addPolygon(this.config.Obstacles[i]);\n        }\n      }\n\n      //Add objects to the scene\n      let sceneObjects=this.config.Objects;\n      if(sceneObjects){\n        for(let i=0;i<sceneObjects.length;i++){\n          if(this.game.objects[sceneObjects[i]]!==undefined){\n            this.container.addChild(this.game.objects[sceneObjects[i]].sprite);\n          }else{\n            console.log(\"Error:Game object \"+sceneObjects[i]+\" not found\");\n          }\n        }\n      }\n\n      //Add NPCs (non-playable characters) to the scene\n      let sceneChars=this.config.Characters;\n      if(sceneChars){\n        for(let i=0;i<sceneChars.length;i++){\n          if(this.game.npcs[sceneChars[i]]!==undefined){\n            this.container.addChild(this.game.npcs[sceneChars[i]].sprite);\n          }else{\n            console.log(\"Error:Game character \"+sceneChars[i]+\" not found\");\n          }\n        }\n      }\n  }\n\n  getPosition(event){\n    let coord=event.data.getLocalPosition(this.game.app.stage);\n    if(!this.game.player.lock && this.game.activeObject===null){\n      this.game.player.move(coord);\n    }\n  }\n\n  getPath(fromX,fromY,toX,toY){\n    return this.walkable.findPath(fromX, fromY, toX, toY, 0);\n  }\n\n}\n\nexport default GameScene;\n","class CutScene{\n  constructor(){\n    this.container=new PIXI.Container();\n    this.sequenceIndex=0;\n    this.played=false;\n  }\n\n  build(){\n    if(this.config.Video){\n      this.videoData = this.game.files.resources[this.config.Video].data;\n      this.videoEnds=this.end.bind(this);\n      this.videoData.addEventListener('ended',this.videoEnds);\n    }else if(this.config.Sequence){\n      this.image=new PIXI.Sprite(PIXI.Texture.from(this.config.Sequence[this.sequenceIndex].Image));\n      var ratio = Math.min(this.game.width/this.image.width, this.game.height/this.image.height);\n      this.image.scale.set(ratio/2);\n\n      this.container.interactive=true;\n      this.container.buttonMode=true;\n      this.container.on('pointertap',this.next.bind(this));\n\n      this.container.addChild(this.image);\n\n      this.field=new PIXI.Text(this.config.Sequence[this.sequenceIndex].Text[this.game.activeLanguage],this.game.settings.Text.Style);\n      this.field.anchor.set(0.5,0);\n      this.field.x=this.image.width/2;\n      this.field.y=this.image.height+this.field.height/2;\n\n      this.container.addChild(this.field);\n\n      this.container.x = (this.game.width - this.image.width) / 2;\n      this.container.y = (this.game.height - this.image.height) / 2;\n    }\n  }\n\n  show(){\n      if(this.config.Video) {\n        let videoTexture = PIXI.Texture.from(this.videoData);\n      \tthis.videoSprite = new PIXI.Sprite(videoTexture);\n        this.videoSprite.width = this.game.width;\n        this.videoSprite.height = this.game.height;\n        this.videoSprite.interactive=true;\n        this.videoSprite.buttonMode=true;\n        this.videoSprite.on('pointertap',this.end.bind(this));\n        this.container.addChild(this.videoSprite);\n      }else if(this.config.Sequence) {\n        this.timeoutID = setTimeout(this.next.bind(this),\n                         this.config.Sequence[this.sequenceIndex].Time*1000);\n      }\n      this.game.app.stage.addChild(this.container);\n      this.game.activeScene.hide();\n      this.game.inventory.hideIcon();\n      this.game.player.hide();\n  }\n\n  hide(){\n      this.container.parent.removeChild(this.container);\n  }\n\n  next(){\n    if(this.timeoutID) clearTimeout(this.timeoutID);\n    if(this.sequenceIndex<this.config.Sequence.length-1){\n      this.sequenceIndex+=1;\n      this.field.text=this.config.Sequence[this.sequenceIndex].Text[this.game.activeLanguage];\n      this.image.texture=(PIXI.Texture.from(this.config.Sequence[this.sequenceIndex].Image));\n      this.timeoutID = setTimeout(this.next.bind(this), this.config.Sequence[this.sequenceIndex].Time*1000);\n    }else{\n      this.end();\n    }\n  }\n\n  end(){\n    if(this.timeoutID) clearTimeout(this.timeoutID);\n    if(this.videoData){\n      this.videoData.pause();\n      this.videoData.removeEventListener('ended',this.videoEnds);\n    }\n\n    this.hide();\n    this.played=true;\n    this.game.activeScene.show();\n    this.game.inventory.showIcon();\n    this.game.player.show();\n  }\n}\n\nexport default CutScene;\n","import * as PolyK from 'polyk';\n\nfunction boxesIntersect(a, b)\n{\n  var ab = a.getBounds();\n  var bb = b.getBounds();\n  return ab.x + ab.width > bb.x && ab.x < bb.x + bb.width && ab.y + ab.height > bb.y && ab.y < bb.y + bb.height;\n}\n\nfunction collision(a, b)\n{\n  let result;\n  if(a!=undefined && b !=undefined){\n    if(a.hitArea) result=PolyK.ContainsPoint(a.hitArea.points,b.x,b.y);\n    else if(b.hitArea) result=PolyK.ContainsPoint(b.hitArea.points,a.x,a.y);\n    else result=boxesIntersect(a,b);\n  }\n\n  return result;\n}\n\nfunction closestPoint(area,coords){\n  let coordX=Math.round(coords.x);\n  let coordY=Math.round(coords.y);\n  let changePosition=PolyK.ClosestEdge(area,coordX,coordY).point;\n  return {x:Math.round(changePosition.x)+1,y:Math.round(changePosition.y)+1}\n}\n\nfunction checkPath(coords,obstaclesPolys,walkPoly){\n  let coordX=Math.round(coords.x);\n  let coordY=Math.round(coords.y);\n  let changePosition;\n  let newPos;\n\n  if(!PolyK.ContainsPoint(walkPoly,coordX,coordY))\n  {\n    changePosition=PolyK.ClosestEdge(walkPoly,coordX,coordY).point;\n    newPos={x:Math.round(changePosition.x)+1,y:Math.round(changePosition.y)+1}\n  }else if(obstaclesPolys!==undefined){\n    for(let i=0;i<obstaclesPolys.length ;i++){\n      if(PolyK.ContainsPoint(obstaclesPolys[i],coordX,coordY)){\n        changePosition=PolyK.ClosestEdge(walkPoly,coordX,coordY).point;\n        newPos={x:Math.round(changePosition.x)+1,y:Math.round(changePosition.y)+1}\n        break;\n      }\n    }\n  }\n\n  return newPos;\n}\n\nexport {boxesIntersect,checkPath,collision,closestPoint};\n","import {boxesIntersect,collision,closestPoint} from '../collisions.js';\n\nclass GameObject{\n  constructor(){\n    this.sprite=null;\n    this.game=null;\n    this.action=null;\n  }\n\n  build(){\n    //Configure the sprite's object\n    if(this.config.Texture){\n      //Generate a static object from a texture\n      this.sprite=new PIXI.Sprite.from(PIXI.Texture.from(this.config.Texture));\n\n    }else if(this.config.Area){\n\n      //For invisible objects\n      this.sprite=new PIXI.Sprite.from(PIXI.Texture.EMPTY);\n      this.sprite.hitArea=new PIXI.Polygon(this.config.Area);\n\n    }else if(this.config.Animation){\n\n      //Animated objects\n      let spritesheet=this.game.files.resources[this.config.Animation.Name].spritesheet;\n\n      let frames = [];\n      for (var i = 0; i < spritesheet._frameKeys.length; i++) {\n          frames.push(PIXI.Texture.from(spritesheet._frameKeys[i]));\n      }\n\n      this.sprite=new PIXI.extras.AnimatedSprite(frames);\n      this.animationSpeed=this.config.Animation.Speed;\n      this.play();\n    }\n\n    //Position of the object in the screen\n    if(this.config.Position){\n      this.sprite.x=this.config.Position[0];\n      this.sprite.y=this.config.Position[1];\n    }\n\n    //Size of the object\n    if(this.config.Size){\n      this.sprite.scale.set(this.config.Size)\n    }\n\n    //Configure the anchor (origin point of the object)\n    if(!this.config.Area)this.sprite.anchor.set(0.5,1);\n\n    //Configure the layer for the z-order\n    if(this.config.Layer==\"Front\") this.sprite.parentLayer=this.game.layeronTop;\n    else this.sprite.parentLayer = this.game.layer;\n\n    //Is it a door?\n    if(this.config.Door){\n      this.door=true;\n      this.newScene=this.config.Door.To;\n      this.playerPos=this.config.Door.Player;\n    }\n\n    //Game object events\n    this.sprite.interactive=true;\n    this.sprite.buttonMode=true;\n\n    if(this.config.Area!==undefined){\n      this.sprite.on('pointerdown', this.touchArea.bind(this))\n          .on('pointerup', this.releaseArea.bind(this))\n          .on('pointerupoutside', this.releaseArea.bind(this));\n    }else{\n      this.sprite.on('pointerdown', this.touch.bind(this))\n          .on('pointermove', this.move.bind(this))\n          .on('pointerup', this.release.bind(this))\n          .on('pointerupoutside', this.release.bind(this));\n    }\n  }\n\n  hide(){\n    this.sprite.visible=false;\n  }\n\n  show(){\n    this.sprite.visible=true;\n  }\n\n  //Invisible object touch begins\n  touchArea(event){\n    if(this.game.activeObject===null){\n      this.game.activeObject=this;\n      this.interaction = event.data;\n      this.action=null;\n      this.touchedPos=this.interaction.getLocalPosition(this.game.app.stage);\n    }\n  }\n\n  //Invisible object touch ends\n  releaseArea(){\n    if(this.interaction){\n      let moveTo=this.interaction.getLocalPosition(this.game.app.stage);\n      if(collision(moveTo,this.sprite)){\n         this.look();\n      }else if(this.door===true){\n        let newPos=closestPoint(this.config.Area,moveTo);\n        moveTo=newPos;\n        this.use();\n      }\n      if(this.action!==null){\n        this.game.player.tween.once('end',this.action);\n        this.game.player.move(moveTo);\n      }else{\n        this.cancel();\n      }\n\n      this.interaction = null;\n      this.touchedPos=null;\n    }\n  }\n\n  //Object touch begins\n  touch(event){\n    if(this.game.activeObject===null){\n      this.game.activeObject=this;\n      this.action=null;\n      this.posX = this.sprite.x;\n      this.posY = this.sprite.y;\n      this.interaction = event.data;\n      this.sprite.alpha = 0.5;\n      this.dragging = true;\n      this.moved = 0;\n      this.oldParent=this.sprite.parent;\n      if(this.sprite.parentLayer !== this.game.layerUI) this.sprite.parentLayer = this.game.layerUI;\n    }\n  }\n\n  //Object is being dragged\n  move(){\n    if (this.dragging) {\n      this.moved++;\n      this.sprite.setParent(this.game.app.stage);\n      var newPosition = this.interaction.getLocalPosition(this.sprite.parent);\n      let bounds=this.sprite.getBounds();\n      //We can only move the object inside the stage\n      if(newPosition.x>bounds.width/2 && newPosition.x<this.game.width-bounds.width/2) this.sprite.x = newPosition.x;\n      if(newPosition.y>bounds.height && newPosition.y<this.game.height) this.sprite.y = newPosition.y;\n    }\n  }\n\n  //Object drag/touch ends\n  release(){\n    if(this.interaction){\n      let moveTo={x:this.posX,y:this.posY};\n      //Check if we take it\n      if(collision(this.sprite,this.game.inventory.icon) && this.config.Take){\n        this.take();\n        //Check if we look it\n      }else if(this.moved<3){\n        this.look();\n      }else if(this.config.door===true){\n        this.use();\n      }else if(this.config.Use!==undefined){\n        this.game.activePuzzle=this.game.puzzles[this.config.Use];\n        this.use();\n      }\n\n      if(this.action!==null){\n        this.game.player.tween.once('end',this.action);\n        this.game.player.move(moveTo);\n      }else{\n        this.cancel();\n      }\n\n      this.sprite.x = this.posX;\n      this.sprite.y = this.posY;\n      this.sprite.alpha = 1;\n      this.sprite.parentLayer = this.game.layer;\n      this.sprite.setParent(this.oldParent);\n\n      this.interaction = null;\n      this.dragging = false;\n      this.moved=0;\n    }\n  }\n\n  //Set player to look this object\n  look(){\n    this.action=this.game.player.look.bind(this.game.player);\n  }\n\n  //Set player to take this object\n  take(){\n    this.action=this.game.player.take.bind(this.game.player);\n  }\n\n  //Set player to use this object\n  use(){\n    this.action=this.game.player.use.bind(this.game.player);\n  }\n\n  //Check collision between objects\n  hit(){\n    let found=null;\n    let i;\n\n    //First check the collision between active scene's objects\n    let objectsArray=this.game.activeScene.config.Objects;\n\n    for(i=0;i<objectsArray.length;i++){\n      if(collision(this.sprite,this.game.objects[objectsArray[i]].sprite)\n                   && this.config.Name!==objectsArray[i]){\n        found=objectsArray[i];\n        break;\n      }\n    }\n\n    //Check if the collision is between inventory objects\n    objectsArray=this.game.inventory.objects;\n\n    for(i=0;i<objectsArray.length;i++){\n      if(collision(this.sprite,this.game.objects[objectsArray[i]].sprite)\n                   && this.config.Name!==objectsArray[i]){\n        found=objectsArray[i];\n        break;\n      }\n    }\n\n    return found;\n  }\n\n  //Object action is canceled or ended\n  cancel(){\n    this.game.activeObject.action=null;\n    this.game.activeObject=null;\n\n  }\n\n  //Remove objects from game\n  remove(){\n    this.sprite.parent.removeChild(this.sprite);\n    //POR HACER\n    //Quitar el objeto de la cadena de objetos de la escena\n    //Quitar del inventario en caso de que esté ahí\n  }\n\n}\n\nexport default GameObject;\n","import {boxesIntersect,collision} from '../collisions.js';\n\nclass Inventory{\n  constructor(){\n      this.container=new PIXI.Container();\n      this.container.visible=false;\n      this.game=null;\n      this.objects=[];\n\n    }\n\n    build(){\n      this.background=new PIXI.Sprite(PIXI.Texture.from(this.game.settings.Inventory.Background));\n      this.background.width=this.game.width/2;\n      this.background.height=this.game.height/2;\n      this.background.parentLayer = this.game.layerUI;\n      this.container.x = (this.game.width - this.background.width) / 2;\n      this.container.y = (this.game.height - this.background.height) / 2;\n      this.border=10;\n      this.icon=new PIXI.Sprite(PIXI.Texture.from(this.game.settings.Inventory.Icon));\n      this.icon.on('pointertap',this.click.bind(this));\n      this.icon.interactive=true;\n      this.icon.buttonMode=true;\n      this.setIcon(this.game.settings.Inventory.Position);\n      this.container.addChild(this.background);\n      this.icon.parentLayer = this.game.layerUI;\n    }\n\n    show(){\n      this.update();\n      this.container.visible=true;\n    }\n\n    hide(){\n      this.container.visible=false;\n\n    }\n\n    showIcon(){\n      this.icon.visible=true;\n    }\n\n    hideIcon(){\n      this.icon.visible=false;\n\n    }\n\n    setIcon(position){\n      if(position==\"bottom-right\"){\n        this.icon.x=this.game.width - this.icon.width;\n        this.icon.y=this.game.height - this.icon.height;\n      }else if(position==\"top-right\"){\n        this.icon.x=this.game.width - this.icon.width;\n        this.icon.y=0;\n      }else if(position==\"top-left\"){\n        this.icon.x=0;\n        this.icon.y=this.game.height - this.icon.height;\n      }else if(position==\"bottom-top\"){\n        this.icon.x=this.game.width - this.icon.width;\n        this.icon.y=0;\n      }\n    }\n\n    click(){\n      if (this.container.visible) this.hide();\n      else if(!this.game.player.lock) this.show();\n    }\n\n    add(name){\n      if(this.game.activeScene!==null){\n        if(this.game.activeScene.config.Objects.includes(name)){\n          let tmpIndex=this.game.activeScene.config.Objects.indexOf(name);\n          this.game.activeScene.config.Objects.splice(tmpIndex,1);\n        }\n      }\n      this.objects.push(name);\n      this.game.objects[name].sprite.setParent(this.container);\n      this.game.objects[name].sprite.parentLayer=this.game.layerUI;\n      this.game.objects[name].sprite.on('pointermove', this.move.bind(this.game.objects[name]))\n                                    .off('pointerup')\n                                    .off('pointerupoutside')\n                                    .on('pointerup',this.release.bind(this.game.objects[name]))\n                                    .on('pointerupoutside',this.release.bind(this.game.objects[name]));\n      this.update();\n    }\n\n    remove(name)\n    {\n      //Check if object is already in inventory\n      if(this.objects.includes(name)){\n        this.objects.splice(this.objects.indexOf(name),1);\n        this.update();\n      }\n    }\n\n    update(){\n      let i;\n      let numObjs=this.objects.length;\n      for(i=0;i<numObjs;i++){\n        let tmpObj=this.game.objects[this.objects[i]].sprite;\n\n        tmpObj.width=this.container.width/5-this.container.width*0.05;\n        tmpObj.height=this.container.height/5-this.container.height*0.05;\n        tmpObj.x = ((i % 5) * this.container.width/5+this.border-i)+tmpObj.width/2;\n        tmpObj.y = (Math.floor(i / 5) * this.container.height/5+this.border-i)+tmpObj.height;\n        this.container.width=this.background.width;\n        this.container.height=this.background.height;\n      }\n    }\n\n    move(){\n      if(!boxesIntersect(this.sprite,this.game.inventory.container))\n        this.game.inventory.hide();\n    }\n\n    release(event){\n      if(this.interaction){\n        let objectHit=this.hit();\n\n        let moveTo={x:this.sprite.x,y:this.sprite.y};\n        //Check if we take it\n        if(this.moved<3){\n          this.game.player.say(this.config.Description)\n        }else if(this.config.Combine!==undefined && objectHit!==null){\n          if(this.config.Combine.With===objectHit) {\n            this.game.activePuzzle=this.game.puzzles[this.config.Combine.Puzzle];\n          }\n          this.use();\n        }\n\n        if(this.action!==null){\n          this.game.player.tween.once('end',this.action);\n          this.game.player.move(moveTo);\n        }else{\n          this.cancel();\n        }\n\n        this.sprite.x = this.posX;\n        this.sprite.y = this.posY;\n        this.sprite.alpha = 1;\n        this.sprite.setParent(this.oldParent);\n\n        this.interaction = null;\n        this.dragging = false;\n        this.moved=0;\n      }\n    }\n}\n\nexport default Inventory;\n","class Puzzle{\n  constructor(){\n    this.solved=false;\n  }\n\n  resolve(){\n    let source;\n\n    if(this.config.Modify){\n      let objectMod=this.game.objects[this.config.Modify.Name]\n      if(this.config.Modify.Description) objectMod.config.Description=this.config.Modify.Description;\n      if(this.config.Modify.Door) this.createDoor(objectMod)\n    }\n\n    if(this.config.Say && !this.game.silentMode){\n      this.game.player.say(this.config.Say[this.game.activeLanguage]);\n    }else{\n      this.game.player.stop();\n    }\n\n    /*else if(this.config.NPCSay && !game.silentMode){\n      game.selectedCharacter=game.searchCharacter(this.config.Give);\n      game.characters[game.selectedCharacter].talk(this.config.NPCSay[game.mainLanguage]);\n      if(game.player.sprite.visible) game.player.stand();\n    }\n*/\n    if(this.config.Remove!==undefined){\n      let i;\n      let array=this.config.Remove;\n      for(i=0;i<array.length;i++){\n        this.game.objects[array[i]].remove();\n      }\n    }\n/*\n    if(this.config.Get) this.createInventoryObject(this.config.Get);\n\n    if(this.config.Create){\n      let objectIndex=game.searchObject(this.config.Create);\n      if(objectIndex){\n        game.scenes[game.currentScene].container.addChild(game.objects[objectIndex]);}\n    }\n*/\n    this.solved=true;\n    this.game.activePuzzle=null;\n    this.game.activeObject=null;\n  }\n\n  createDoor(target){\n    target.door=true;\n    target.newScene=this.config.Modify.Door.To;\n    target.playerPos=this.config.Modify.Door.Player;\n  }\n\n  createInventoryObject(objectName){\n    //this.game.objects[objectName].take();\n  }\n}\n\nexport default Puzzle;\n","import dragonBones from 'dragonbones-pixi';\nimport tweenManager from 'k8w-pixi-tween';\nconst dbfactory=dragonBones.dragonBones.PixiFactory.factory;\nimport {checkPath} from '../collisions.js'\n\nclass Character{\n  constructor(){\n    this.game=null;\n    this.state=null;\n    this.lock=false;\n  }\n\n  setup(config){\n    dbfactory.parseDragonBonesData(this.game.files.resources[config.Name+\"Skeleton\"].data);\n    dbfactory.parseTextureAtlasData(this.game.files.resources[config.Name+\"Json\"].data,this.game.files.resources[config.Name+\"Tex\"].texture);\n    this.sprite = dbfactory.buildArmatureDisplay(config.Armature);\n    this.size=1;\n    this.tween=PIXI.tweenManager.createTween(this.sprite);\n    this.tween.on('end', this.stop.bind(this));\n    if(config.Animations!=undefined)\n      this.animations=config.Animations;\n    else\n      this.animations={\n        Stand:\"stand\",\n        Walk:\"walk\",\n        Take:\"take\",\n        Use:\"use\",\n        Say:\"speak\"\n      };\n    this.animate(this.animations.Stand);\n    this.state=\"stand\";\n    this.sprite.x=500;\n    this.sprite.y=500;\n    this.sprite.parentLayer = this.game.layer;//Z-order*/\n    this.config=config;\n  }\n\n  hide(){\n    this.sprite.visible=false;\n  }\n\n  show(){\n    this.sprite.visible=true;\n  }\n\n  position(coords){\n    this.sprite.x=coords[0];\n    this.sprite.y=coords[1];\n  }\n\n  move(coords){\n    let obstacles=this.game.activeScene.config.Obstacles;\n    let walkingArea=this.game.activeScene.config.WalkArea;\n    let newPosition=coords;\n    let closestPosition=checkPath(coords,obstacles,walkingArea);\n\n    if(closestPosition){\n      newPosition=closestPosition;\n    }\n\n    let path = new PIXI.tween.TweenPath();\n    let findPath=this.game.activeScene.walkable.findPath(this.sprite.x,this.sprite.y,newPosition.x,newPosition.y,0);\n\n    if(findPath.length>0){\n      this.tween.stop().clear();\n      this.animate(this.animations.Walk);\n      if(this.sprite.x<newPosition.x) this.sprite.armature.flipX=false;\n      else this.sprite.armature.flipX=true;\n      path.drawShape(new PIXI.Polygon(findPath));\n      this.tween.path=path;\n\n      //Needs improvement\n      let animationTime=Math.abs(this.sprite.x-newPosition.x)*5+Math.abs(this.sprite.y-newPosition.y)*5+findPath.length*100;\n\n      this.tween.time = animationTime;\n      this.tween.speed = 1;\n      this.tween.delay=10;\n      this.tween.start();\n    }\n  }\n\n  update(){\n    PIXI.tweenManager.update();\n    this.scale();\n  }\n\n  scale(){\n    let scaleChar=this.sprite.y/this.game.height*this.size;\n    this.sprite.scale.set(scaleChar);\n  }\n\n  stop(){\n    this.animate(this.animations.Stand);\n    this.game.activeState=null;\n    this.lock=false;\n  }\n\n  say(text){\n    //Lock the character\n    this.lock=true;\n    this.game.textField.talker=this;\n    //Setup the text to show\n    this.game.textField.setText(text);\n    this.game.textField.setColor(this.config.Color);\n    this.game.textField.show();\n\n    //Animate the character\n    this.animate(this.animations.Say);\n    if(this.timeoutID) clearTimeout(this.timeoutID);\n    this.timeoutID=setTimeout(this.game.textField.end.bind(this.game.textField), this.game.textField.timeOut());\n  }\n\n  animate(animation,times){\n    if(this.sprite.animation.lastAnimationName!==animation)\n      this.sprite.animation.fadeIn(animation,0.25,times);\n  }\n}\n\nexport default Character;\n","import Character from './character.js';\nimport dragonBones from 'dragonbones-pixi';\nconst dbEvents=dragonBones.dragonBones.EventObject;\n\nclass Player extends Character{\n  move(coords){\n    super.move(coords);\n    this.game.activeState=this;\n  }\n\n  look(){\n    if(this.game.activeObject!==null){\n      let text=this.game.activeObject.config.Description[this.game.activeLanguage];\n      this.say(text);\n      this.game.activeObject.cancel();\n    }\n  }\n\n  take(){\n    this.lock=true;\n    this.animate(this.animations.Take,1);\n    this.sprite.once(dbEvents.COMPLETE, this.takeEnd, this);\n  }\n\n  takeEnd(){\n    if(this.game.activeObject!==null){\n      this.game.inventory.add(this.game.activeObject.config.Name);\n      this.game.activeObject.cancel();\n      this.stop();\n    }\n  }\n\n  use(){\n    this.lock=true;\n    this.animate(this.animations.Use,1);\n    this.sprite.once(dbEvents.COMPLETE, this.useEnd, this);\n  }\n\n  useEnd(){\n    if(this.game.activePuzzle!==null){\n      this.game.activePuzzle.resolve();\n    }else if(this.game.activeObject!==null) {\n      if(this.game.activeObject.door){\n        this.game.setScene(this.game.activeObject.newScene,this.game.activeObject.playerPos);\n        this.stop();\n      }else{\n        this.say(this.game.data.texts.NotUsable[this.game.activeLanguage])\n      }\n      this.game.activeObject.cancel();\n    }\n\n  }\n\n}\n\nexport default Player;\n","import Character from './character.js';\n\nclass NPC extends Character{\n  build(){\n    this.sprite.interactive=true;\n    this.sprite.buttonMode=true;\n  }\n}\n\nexport default NPC;\n","import * as PIXI from 'pixi.js';\nimport 'pixi-sound';\nimport 'pixi-layers';\n\nimport Loader from './loader.js';\nimport Title from './class/title.js';\nimport GameScene from './class/gamescene.js';\nimport CutScene from './class/cutscene.js';\nimport GameObject from './class/gameobject.js';\nimport Inventory from './class/inventory.js';\nimport Puzzle from './class/puzzle.js';\nimport {TextField} from './class/text.js';\nimport Player from './class/player.js';\nimport NPC from './class/npc.js';\n\nclass Game {\n  constructor(config){\n    this.settings={};\n    this.data={};\n    this.width=config.width;\n    this.height=config.height;\n    this.playSounds = true;\n\n    //Setup the application\n    this.app = new PIXI.Application(config.width,config.height,{autoResize: true,resolution: devicePixelRatio});\n    this.app.renderer.autoResize=true;\n    this.app.stage = new PIXI.display.Stage();\n\n    //Change game size when window size changes\n    if(config.autoResize!==undefined) this.app.renderer.autoResize=config.autoResize;\n    else window.addEventListener('resize', this.resize.bind(this));\n\n\n    //We append it to a HTML element or Document body\n    if(config.parent){\n      document.getElementById(config.parent).appendChild(this.app.view)\n    }else{\n      document.body.appendChild(this.app.view);\n    }\n\n    //Load config files\n    this.preload(config.files);\n  }\n\n  //Read JSON configuration files\n  preload(files){\n    //Text to show progress\n    this.loadinProgress=new PIXI.Text(\"0 %\", {fill: 'white',\"fontSize\": 50});\n    this.loadinProgress.anchor.set(0.5);\n    this.loadinProgress.x=this.width/2;\n    this.loadinProgress.y=this.height/2;\n    this.app.stage.addChild(this.loadinProgress);\n\n    this.jsons=new Loader();\n    this.jsons.game=this;\n    this.jsons.addJSON(files);\n    this.jsons.load(this.load.bind(this)); //When all config files are loaded, load the game resources.\n  }\n\n  //Load game resources (images,sounds,vids...)\n  load(){\n    this.files=new Loader();\n    this.files.game=this;\n    this.files.addFiles(Object.values(this.jsons.resources));\n    this.files.load(this.setup.bind(this));\n  }\n\n  setup(){\n    this.app.stage.removeChild(this.loadinProgress);\n\n    //Z-Order\n    this.addZOrder();\n\n    //Adjust to window size\n    this.resize();\n\n    this.scenes={};\n    this.cutscenes={};\n    this.objects={};\n    this.npcs={};\n    this.puzzles={};\n    this.activeLanguage=0;\n    this.activeScene=null;\n    this.activeObject=null;\n    this.activePuzzle=null;\n    this.activeState=null;\n\n    //Setup title screen\n    this.addScene(\"Title\",new Title(),this.settings.TitleScreen);\n\n    //Add game objects\n    let i;\n    let length=this.data.objects.length;\n    for(i=0;i<length;i++)\n    {\n      this.addObject(this.data.objects[i].Name,new GameObject(),this.data.objects[i]);\n    }\n\n    //Non-playable characters\n    length=this.data.npc.length;\n    for(i=0;i<length;i++)\n    {\n      this.addNPC(this.data.npc[i].Name,new NPC(),this.data.npc[i]);\n    }\n\n    //Add game scenes\n    length=this.data.scenes.length;\n    for(i=0;i<length;i++)\n    {\n      this.addScene(this.data.scenes[i].Name,new GameScene(),this.data.scenes[i]);\n    }\n\n    //Add cutscenes\n    length=this.data.cutscenes.length;\n    for(i=0;i<length;i++)\n    {\n      this.addCutscene(this.data.cutscenes[i].Name,new CutScene(),this.data.cutscenes[i]);\n    }\n\n    //Puzzles\n    length=this.data.puzzles.length;\n    for(i=0;i<length;i++)\n    {\n      this.addPuzzle(this.data.puzzles[i].Name,new Puzzle(),this.data.puzzles[i]);\n    }\n\n    //Add Inventory\n    this.addInventory();\n\n    //Add text field\n    this.addTextField();\n\n    //Add player\n    this.addPlayer();\n\n    //Set Title as the first scene to show\n    this.setScene(\"Title\");\n\n    //Game's loop\n    this.app.ticker.add(this.loop.bind(this));\n  }\n\n  loop(dt){\n    //console.log(this.player.lock) //Test\n    // update current state\n    if (this.activeState != null) {\n        this.activeState.update(dt);\n    }\n  }\n\n  addObject(name, object, config) {\n      this.objects[name] = object;\n\n      //Config the object\n      object.config=config;\n\n      //Set game so object can access it\n      object.game = this;\n\n      //Build object\n      object.build();\n  }\n\n  addScene(name, scene, config) {\n      this.scenes[name] = scene;\n\n      //Config the scene\n      scene.setup(config);\n\n      //Set game so scene can access it\n      scene.game = this;\n\n      //Build scene\n      scene.build();\n  }\n\n  addCutscene(name, cutscene, config) {\n      this.cutscenes[name] = cutscene;\n\n      //Config the scene\n      cutscene.config=config;\n\n      //Set game so scene can access it\n      cutscene.game = this;\n\n      //Build scene\n      cutscene.build();\n  }\n\n  addPuzzle(name, puzzle, config) {\n      this.puzzles[name] = puzzle;\n\n      //Puzzle's config\n      puzzle.config=config;\n\n      //Set game so puzzle can access it\n      puzzle.game = this;\n  }\n\n  setScene(name,playerCoords) {\n      //Remove current container\n      if (this.activeScene !== null) {\n          this.app.stage.removeChild(this.activeScene.container);\n      }\n\n      //Set current container\n      this.activeScene = this.scenes[name];\n\n      //Add our new container\n      this.app.stage.addChild(this.activeScene.container);\n\n      if(playerCoords!==undefined){\n        this.player.sprite.x=playerCoords[0];\n        this.player.sprite.y=playerCoords[1];\n      }\n\n      if(this.activeScene.config.Player!==undefined){\n        if(this.activeScene.config.Player.Position!==undefined){\n          this.player.position(this.activeScene.config.Player.Position);\n        }\n        if(this.activeScene.config.Player.Size!==undefined){\n          this.player.size=this.activeScene.config.Player.Size;\n          this.player.scale();\n        }\n      }\n\n      if(this.activeScene.config.CutScene!==undefined){\n        if(!this.cutscenes[this.activeScene.config.CutScene].played){\n          this.cutscenes[this.activeScene.config.CutScene].show();\n        }\n      }\n      // Play sounds\n    //  if(this.activeScreen.music!==null && this.playSounds) PIXI.sound.play(this.activeScreen.music,{loop:true});\n  }\n\n  addZOrder(){\n    this.sortGroup= new PIXI.display.Group(0, true);\n    this.sortGroup.on('sort', function (sprite) {\n      sprite.zOrder = -sprite.y;\n    });\n    this.onTopGroup = new PIXI.display.Group(1,false);\n    this.UIGroup = new PIXI.display.Group(2,false);\n\n    this.layer=new PIXI.display.Layer(this.sortGroup);\n    this.layeronTop=new PIXI.display.Layer(this.onTopGroup);\n    this.layerUI=new PIXI.display.Layer(this.UIGroup);\n    //this.layerUI.group.enableSort = true;\n    //this.layer.group.enableSort = true;\n    this.app.stage.group.enableSort = true;\n    this.app.stage.addChild(this.layer);//Z-order\n    this.app.stage.addChild(this.layeronTop);//Z-order\n    this.app.stage.addChild(this.layerUI);//Z-order\n  }\n\n  addInventory(){\n    this.inventory=new Inventory();\n    this.inventory.game=this;\n    this.inventory.build();\n  }\n\n  addPlayer(){\n    this.player=new Player();\n    this.player.game=this;\n    this.data.player.Name=\"player\";\n    this.player.setup(this.data.player);\n  }\n\n  addNPC(name, char, config){\n    this.npcs[name] = char;\n\n    char.game = this;\n\n    char.setup(config);\n    \n    char.build();\n  }\n\n  addTextField(){\n    this.textField=new TextField();\n    this.textField.game=this;\n    this.textField.build();\n  }\n\n  //Adjust game screen to the window\n  resize() {\n    var w = window.innerWidth * window.devicePixelRatio;\n    var h = window.innerHeight * window.devicePixelRatio;\n    var ratio = Math.min( w/this.width,  h/this.height);\n    this.app.renderer.resize(this.width*ratio,this.height*ratio);\n    this.app.stage.scale.set(ratio);\n  }\n\n  //The magic begins\n  start(){\n    this.setScene(this.settings.FirstScene);\n\n    //Show Inventory\n    this.app.stage.addChild(this.inventory.container);\n    this.app.stage.addChild(this.inventory.icon);\n\n    //Show Player\n    this.app.stage.addChild(this.player.sprite);\n\n    //Add Text Field\n    this.app.stage.addChild(this.textField.container);\n  }\n\n\n}\n\nexport default Game;\n","import Game from './game';\n\nconsole.log(\"JSGAM 5.0.0 https://github.com/kreezii/jsgam\");\n\nexport default Game;\n"],"names":["Loader","constructor","game","onLoad","add","this","update","bind","onError","error","addJSON","files","i","arrayLength","length","name","slice","lastIndexOf","addFiles","data","Settings","settings","Scenes","scenes","Cutscenes","cutscenes","Objects","objects","Dialogues","dialogues","Puzzles","puzzles","Credits","credits","Texts","texts","Sounds","soundSrc","j","tmpSound","Src","Name","Vids","fixVidLoad","vidSrc","tmpVid","Animations","animSrc","tmpAnim","Backgrounds","bgSrc","tmpBg","Player","Texture","Json","Skeleton","player","Characters","npcSrc","npc","PIXI","sound","utils","extensions","splice","indexOf","loaders","Resource","setExtensionXhrType","undefined","setExtensionLoadType","LOAD_TYPE","VIDEO","percent","Math","floor","progress","loadinProgress","text","resource","console","log","Scene","container","Container","setup","config","background","Sprite","from","Background","anchor","set","addChild","music","Music","dt","hide","visible","show","Button","style","interactive","buttonMode","Text","TextField","build","parentLayer","layerUI","WHITE","size","Size","width","height","tint","alpha","Style","x","y","on","skip","Position","setPosition","end","setText","stop","talker","clearTimeout","timeoutID","position","newText","adjustText","ratio","min","scale","countWords","str","split","timeOut","time","Speed","setColor","colour","Menu","buttons","addButton","activeLanguage","ButtonStyle","modify","disable","enable","sortMenu","arrayButtons","Object","values","center","resize","pivot","MainMenu","create","gameTexts","NewGame","Continue","Options","Help","changeLanguage","languages","Languages","addLanguage","setLanguage","Back","father","change","buildText","structuredText","MultiStyleText","tween","tweenManager","createTween","to","expire","delay","mainMenu","start","reset","Lines","Title","states","addState","addAction","showOptions","showCredits","newAdventure","button","action","state","activeState","GameScene","layer","getPosition","walkable","Walkable","WalkArea","addPolygon","Obstacles","obstacles","let","sceneObjects","sprite","sceneChars","npcs","event","coord","getLocalPosition","app","stage","lock","activeObject","move","getPath","fromX","fromY","toX","toY","findPath","CutScene","sequenceIndex","played","boxesIntersect","a","b","ab","getBounds","bb","collision","result","hitArea","PolyK","points","Video","videoData","resources","videoEnds","addEventListener","Sequence","image","Image","next","field","videoTexture","videoSprite","setTimeout","Time","activeScene","inventory","hideIcon","parent","removeChild","texture","pause","removeEventListener","showIcon","GameObject","Area","EMPTY","Polygon","Animation","spritesheet","frames","_frameKeys","push","extras","AnimatedSprite","animationSpeed","play","Layer","layeronTop","Door","door","newScene","To","playerPos","touchArea","releaseArea","touch","release","interaction","touchedPos","moveTo","look","area","coords","coordX","round","coordY","changePosition","point","use","once","cancel","posX","posY","dragging","moved","oldParent","setParent","newPosition","bounds","icon","Take","take","Use","activePuzzle","hit","found","objectsArray","remove","Inventory","border","Icon","click","setIcon","includes","tmpIndex","off","numObjs","tmpObj","objectHit","say","Description","Combine","With","Puzzle","solved","resolve","Modify","objectMod","createDoor","Say","silentMode","Remove","array","target","createInventoryObject","objectName","const","dbfactory","dragonBones","PixiFactory","factory","Character","parseDragonBonesData","parseTextureAtlasData","buildArmatureDisplay","Armature","animations","animate","Stand","closestPosition","obstaclesPolys","walkPoly","newPos","checkPath","path","TweenPath","clear","Walk","armature","flipX","drawShape","animationTime","abs","speed","textField","Color","animation","times","lastAnimationName","fadeIn","dbEvents","EventObject","COMPLETE","takeEnd","useEnd","setScene","NotUsable","NPC","Game","playSounds","devicePixelRatio","renderer","autoResize","Stage","window","document","getElementById","appendChild","view","body","preload","jsons","load","addZOrder","addScene","TitleScreen","addObject","addNPC","addCutscene","addPuzzle","addInventory","addTextField","addPlayer","ticker","loop","object","scene","cutscene","puzzle","playerCoords","sortGroup","Group","zOrder","onTopGroup","UIGroup","group","enableSort","char","w","innerWidth","h","innerHeight","FirstScene"],"mappings":"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"}